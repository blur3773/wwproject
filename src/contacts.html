<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–Ω—Ç–∞–∫—Ç—ã - –¢–≤–∏—á –ö–ª–∏–ø—ã</title>
    <meta name="description" content="–°–≤—è–∑—å —Å –Ω–∞–º–∏">
    <link rel="stylesheet" href="styles.css">
    <script src="main.js" defer></script>
</head>
<body>
    <header class="site-header">
        <div class="container">
            <a class="site-header__brand" href="/">–¢–≤–∏—á –ö–ª–∏–ø—ã</a>
            <nav class="site-nav" aria-label="–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
                <ul class="site-nav__list">
                    <li class="site-nav__item"><a class="site-nav__link" href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li class="site-nav__item"><a class="site-nav__link" href="about.html">–û –Ω–∞—Å</a></li>
                    <li class="site-nav__item"><a class="site-nav__link site-nav__link--cta site-nav__link--active" href="contacts.html">–°–≤—è–∑–∞—Ç—å—Å—è</a></li>
                </ul>
            </nav>
        </div>
    </header>

<main class="container">
    <!-- –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ -->
    <nav class="breadcrumbs" aria-label="–•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏">
        <ul class="breadcrumbs__list">
            <li class="breadcrumbs__item"><a class="breadcrumbs__link" href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
            <li class="breadcrumbs__item"><span class="breadcrumbs__current">–ö–æ–Ω—Ç–∞–∫—Ç—ã</span></li>
        </ul>
    </nav>

    <h1 class="section__title">–ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è —Å–≤—è–∑–∏ —Å –Ω–∞–º–∏</h1>
    
    <div class="contacts-layout"> <!-- –î–æ–±–∞–≤–ª–µ–Ω —ç—Ç–æ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
        <section class="section">
            <h2 class="section__title">–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º</h2>
            <button id="openDialog" class="btn" type="button">–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</button>
        </section>

        <section class="section">
            <h2 class="section__title">–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏</h2>
            <div class="social-buttons">
                <a href="https://vk.com/" class="btn btn--secondary">–í–ö–æ–Ω—Ç–∞–∫—Ç–µ</a>
                <a href="https://web.telegram.org/" class="btn btn--secondary">Telegram</a>
            </div>
        </section>

        <section class="section">
            <h2 class="section__title">–ù–∞—à–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</h2>
            <div class="media-container">
                <iframe 
                    src="https://yandex.ru/map-widget/v1/?um=constructor%3A1a5d7c3b7c6b9c8d9e0f1a2b3c4d5e6f&amp;source=constructor" 
                    title="–ö–∞—Ä—Ç–∞ —Å –Ω–∞—à–∏–º –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ–º"
                    loading="lazy"
                    allowfullscreen>
                </iframe>
            </div>
        </section>
    </div> <!-- –ó–∞–∫—Ä—ã—Ç–∏–µ contacts-layout -->
</main>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
    <dialog id="contactDialog" class="modal">
        <div class="modal__header">
            <h2 class="modal__title">–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</h2>
            <button class="modal__close" id="closeDialog" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
        </div>
        
        <form id="contactForm" class="form" novalidate>
            <div class="form__group">
                <label for="name" class="form__label">–ò–º—è</label>
                <input id="name" name="name" type="text" class="form__input" required minlength="2">
                <div class="form__error" id="nameError"></div>
            </div>

            <div class="form__group">
                <label for="email" class="form__label">Email</label>
                <input id="email" name="email" type="email" class="form__input" required>
                <div class="form__error" id="emailError"></div>
            </div>

            <div class="form__group">
                <label for="phone" class="form__label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                <input id="phone" name="phone" type="tel" class="form__input" 
                       pattern="^\+7 \(\d{3}\) \d{3}-\d{2}-\d{2}$"
                       placeholder="+7 (900) 123-45-67">
                <div class="form__error" id="phoneError"></div>
            </div>

            <div class="form__group">
                <label for="message" class="form__label">–°–æ–æ–±—â–µ–Ω–∏–µ</label>
                <textarea id="message" name="message" class="form__textarea" required rows="4"></textarea>
                <div class="form__error" id="messageError"></div>
            </div>

            <div class="form-actions">
                <button type="button" id="cancelDialog" class="btn btn--secondary">–ó–∞–∫—Ä—ã—Ç—å</button>
                <button type="submit" class="btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
        </form>
    </dialog>

    <footer class="site-footer">
        <div class="container">
            <p>&copy; 2025 –¢–≤–∏—á –ö–ª–∏–ø—ã. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            <p>–¢–µ–ª–µ—Ñ–æ–Ω: +7 (123) 456-78-90</p>
        </div>
    </footer>

    <button class="theme-toggle" type="button" aria-pressed="false">üåì</button>
    
    <script>
        // –°–∫—Ä–∏–ø—Ç –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
        const dlg = document.getElementById('contactDialog');
        const openBtn = document.getElementById('openDialog');
        const closeBtn = document.getElementById('closeDialog');
        const cancelBtn = document.getElementById('cancelDialog');
        const form = document.getElementById('contactForm');
        let lastActive = null;

        // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏
        openBtn.addEventListener('click', () => {
            lastActive = document.activeElement;
            dlg.showModal();
            dlg.querySelector('input, select, textarea, button')?.focus();
        });

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏
        closeBtn.addEventListener('click', () => dlg.close('cancel'));
        cancelBtn.addEventListener('click', () => dlg.close('cancel'));

        // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã
        form.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // –°–±—Ä–æ—Å –æ—à–∏–±–æ–∫
            document.querySelectorAll('.form__error').forEach(el => el.textContent = '');
            document.querySelectorAll('[aria-invalid="true"]').forEach(el => el.removeAttribute('aria-invalid'));
            
            if (!form.checkValidity()) {
                // –ü–æ–∫–∞–∑ –æ—à–∏–±–æ–∫
                form.reportValidity();
                
                // –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
                const email = form.elements.email;
                if (email.validity.typeMismatch) {
                    document.getElementById('emailError').textContent = '–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email –∞–¥—Ä–µ—Å';
                    email.setAttribute('aria-invalid', 'true');
                }
                
                return;
            }
            
            // –£—Å–ø–µ—à–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞
            alert('–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.');
            form.reset();
            dlg.close('success');
        });

        // –í–æ–∑–≤—Ä–∞—Ç —Ñ–æ–∫—É—Å–∞ –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è
        dlg.addEventListener('close', () => {
            lastActive?.focus();
        });

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
        const KEY = 'theme';
        const btn = document.querySelector('.theme-toggle');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (localStorage.getItem(KEY) === 'dark' || (!localStorage.getItem(KEY) && prefersDark)) {
            document.body.classList.add('theme-dark');
            btn?.setAttribute('aria-pressed', 'true');
        }

        btn?.addEventListener('click', () => {
            const isDark = document.body.classList.toggle('theme-dark');
            btn.setAttribute('aria-pressed', String(isDark));
            localStorage.setItem(KEY, isDark ? 'dark' : 'light');
        });
    </script>
</body>
</html>